<script aria-label="component-maker-js.html">

    let version = "1.0.20230527"

    class ComponentConfiguration {
        /** @type{} */
        #propMap = new Map()
    }
    class ComponentDataHandler {
        



    }
    class ComponentUIHandler {
        #shadowRoot
        #me

    }
    class ComponentMaker {
        static get version() { return version }
        static make() {

            let lcc = class extends HTMLElement {
                #dataHandler = {
                    data: {}
                    /** @type {Map<string, PropertyDescriptor | undefined} */
                    props: new Map(),
                    /** @type {Map<string, [string]>} */
                    derivedProps: new Map(),
                    /** @type {Map<string, string>} */
                    dataBindings: new Map()
                }


                constructor() {

                }

                set data(v) {
                    this.#dataHandler.data = v
                }
                //get props() { return this.#props }

                /** @param {{"$prop1: {get(){} set(){}} | undefined"}} props  */
                defineProps(props) {
                    Object.keys(props).forEach(prp => {

                    })
                }
                /** @param {{derived:boolean}} options */
                listProps(options) {
                    let { derived } = options
                    if (derived) return [...new Set([...this.#dataHandler.derivedProps.values()].flatMap(f => f))]
                    return [...this.#dataHandler.props.keys()]
                }
                /** 
                 * @desc {$prop1 : "data1.data2.leaf1", $prop2 : "data1.data2.leaf2"}
                 * @param {any} bindings - 
                */
                updateBindings(bindings) {

                }

            }
        }
    }

</script>